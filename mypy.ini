[mypy]
python_version = 3.8
warn_return_any = True
warn_unused_configs = True
disallow_untyped_defs = True
disallow_incomplete_defs = True

# Fix module resolution
explicit_package_bases = True
namespace_packages = True

# Allow some flexibility
allow_redefinition = True
allow_untyped_globals = True
allow_subclassing_any = True
allow_untyped_calls = True

# Temporarily disable some checks while we fix types
disable_error_code =
    no-any-return,
    var-annotated,
    arg-type,
    attr-defined

# Ignore missing imports for optional dependencies
[mypy.plugins.boto3.*]
ignore_missing_imports = True

[mypy.plugins.botocore.*]
ignore_missing_imports = True

# Per-module settings
[mypy-tests.*]
disallow_untyped_defs = False
disallow_incomplete_defs = False

[mypy-scripts.*]
disallow_untyped_defs = False
disallow_incomplete_defs = False
